"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var kendo_react_common_1 = require("@progress/kendo-react-common");
/**
 * @hidden
 */
exports.THROTTLE_MS = 1000 / 60;
/**
 * @hidden
 */
var createStore = function (reducer) {
    var state;
    var timerId;
    var listeners = [];
    var getState = function () { return state; };
    var dispatch = function (action) {
        state = reducer(state, action);
        if (kendo_react_common_1.canUseDOM) {
            window.clearTimeout(timerId);
            timerId = window.setTimeout(function () { return listeners.forEach(function (l) { return l(); }); }, exports.THROTTLE_MS);
        }
    };
    var subscribe = function (listener) {
        listeners.push(listener);
        return function () { return listeners = listeners.filter(function (l) { return l !== listener; }); };
    };
    dispatch({});
    return { getState: getState, dispatch: dispatch, subscribe: subscribe };
};
exports.default = createStore;
//# sourceMappingURL=store.js.map