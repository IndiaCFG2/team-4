{"ast":null,"code":"import * as React from 'react';\nimport * as ReactDOMServer from 'react-dom/server';\nvar defaultFileName = 'export.pdf';\nvar defaultCreator = 'Kendo UI PDF Generator';\n/**\n * @hidden\n */\n\nvar KendoDrawingAdapter =\n/** @class */\nfunction () {\n  function KendoDrawingAdapter(drawDOM, exportPDF, saveAs, domElement, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = this;\n\n    this.drawDOM = drawDOM;\n    this.exportPDF = exportPDF;\n    this.saveAs = saveAs;\n    this.domElement = domElement;\n    this.options = options;\n\n    this.convertPageTemplateToHtml = function (pageContext) {\n      var pageTemplateContent = ReactDOMServer.renderToStaticMarkup(React.createElement(_this.options.pageTemplate, {\n        pageNum: pageContext.pageNum,\n        totalPages: pageContext.totalPages\n      }));\n      return \"<span>\" + pageTemplateContent + \"</span>\";\n    };\n  }\n\n  KendoDrawingAdapter.prototype.savePDF = function (callback) {\n    var _this = this;\n\n    var savePromise = this.drawDOM(this.domElement, this.getDrawOptions()).then(function (group) {\n      return _this.exportPDF(group, _this.getPDFOptions());\n    }).then(function (dataUri) {\n      return _this.saveAs(dataUri, _this.options.fileName || defaultFileName, _this.getSaveOptions());\n    });\n\n    if (callback) {\n      savePromise.then(callback, callback);\n    }\n  };\n\n  KendoDrawingAdapter.prototype.getDrawOptions = function () {\n    return {\n      avoidLinks: this.options.avoidLinks,\n      forcePageBreak: this.options.forcePageBreak,\n      keepTogether: this.options.keepTogether,\n      margin: this.options.margin,\n      paperSize: this.options.paperSize,\n      landscape: this.options.landscape,\n      repeatHeaders: this.options.repeatHeaders,\n      scale: this.options.scale,\n      template: this.options.pageTemplate && this.convertPageTemplateToHtml\n    };\n  };\n\n  KendoDrawingAdapter.prototype.getPDFOptions = function () {\n    return {\n      author: this.options.author,\n      creator: this.options.creator || defaultCreator,\n      date: this.options.date,\n      imgDPI: this.options.imageResolution,\n      keywords: this.options.keywords,\n      landscape: this.options.landscape,\n      margin: this.options.margin,\n      multiPage: true,\n      paperSize: this.options.paperSize,\n      producer: this.options.producer,\n      subject: this.options.subject,\n      title: this.options.title\n    };\n  };\n\n  KendoDrawingAdapter.prototype.getSaveOptions = function () {\n    return {\n      forceProxy: this.options.forceProxy,\n      proxyData: this.options.proxyData,\n      proxyTarget: this.options.proxyTarget,\n      proxyURL: this.options.proxyURL\n    };\n  };\n\n  return KendoDrawingAdapter;\n}();\n\nexport default KendoDrawingAdapter;","map":{"version":3,"sources":["../../src/KendoDrawingAdapter.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import * as React from 'react';\nimport * as ReactDOMServer from 'react-dom/server';\nvar defaultFileName = 'export.pdf';\nvar defaultCreator = 'Kendo UI PDF Generator';\n/**\n * @hidden\n */\nvar KendoDrawingAdapter = /** @class */ (function () {\n    function KendoDrawingAdapter(drawDOM, exportPDF, saveAs, domElement, options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        this.drawDOM = drawDOM;\n        this.exportPDF = exportPDF;\n        this.saveAs = saveAs;\n        this.domElement = domElement;\n        this.options = options;\n        this.convertPageTemplateToHtml = function (pageContext) {\n            var pageTemplateContent = ReactDOMServer.renderToStaticMarkup(React.createElement(_this.options.pageTemplate, {\n                pageNum: pageContext.pageNum, totalPages: pageContext.totalPages\n            }));\n            return \"<span>\" + pageTemplateContent + \"</span>\";\n        };\n    }\n    KendoDrawingAdapter.prototype.savePDF = function (callback) {\n        var _this = this;\n        var savePromise = this.drawDOM(this.domElement, this.getDrawOptions())\n            .then(function (group) { return _this.exportPDF(group, _this.getPDFOptions()); })\n            .then(function (dataUri) { return _this.saveAs(dataUri, _this.options.fileName || defaultFileName, _this.getSaveOptions()); });\n        if (callback) {\n            savePromise.then(callback, callback);\n        }\n    };\n    KendoDrawingAdapter.prototype.getDrawOptions = function () {\n        return {\n            avoidLinks: this.options.avoidLinks,\n            forcePageBreak: this.options.forcePageBreak,\n            keepTogether: this.options.keepTogether,\n            margin: this.options.margin,\n            paperSize: this.options.paperSize,\n            landscape: this.options.landscape,\n            repeatHeaders: this.options.repeatHeaders,\n            scale: this.options.scale,\n            template: this.options.pageTemplate && this.convertPageTemplateToHtml\n        };\n    };\n    KendoDrawingAdapter.prototype.getPDFOptions = function () {\n        return {\n            author: this.options.author,\n            creator: this.options.creator || defaultCreator,\n            date: this.options.date,\n            imgDPI: this.options.imageResolution,\n            keywords: this.options.keywords,\n            landscape: this.options.landscape,\n            margin: this.options.margin,\n            multiPage: true,\n            paperSize: this.options.paperSize,\n            producer: this.options.producer,\n            subject: this.options.subject,\n            title: this.options.title\n        };\n    };\n    KendoDrawingAdapter.prototype.getSaveOptions = function () {\n        return {\n            forceProxy: this.options.forceProxy,\n            proxyData: this.options.proxyData,\n            proxyTarget: this.options.proxyTarget,\n            proxyURL: this.options.proxyURL\n        };\n    };\n    return KendoDrawingAdapter;\n}());\nexport default KendoDrawingAdapter;\n//# sourceMappingURL=KendoDrawingAdapter.js.map"]},"metadata":{},"sourceType":"module"}